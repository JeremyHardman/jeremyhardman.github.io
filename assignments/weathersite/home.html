<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Storm Center Home page for weather site project for CIT 230 project"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Jeremy Hardman" />
    <title>The Storm Sentry | Home | Weather Forecast</title>
    <link
      href="https://fonts.googleapis.com/css?family=Lobster%7cLobster+Two%7cOpen+Sans%7cOswald"
      rel="stylesheet"
    />
    <link href="css/normalize.css" rel="stylesheet" />
    <link href="css/small.css" rel="stylesheet" />
    <link href="css/medium.css" rel="stylesheet" />
    <link href="css/large.css" rel="stylesheet" />
  </head>

  <body>
    <header>
      <img
        src="images/iconfinder_weather-06_1527657.svg"
        alt="Weather image of cloud"
      />
      <div class="heading">
        <h1>The Storm Sentry</h1>
        <div class="motto">Sun or Rain, Let's Play</div>
      </div>
    </header>

    <nav>
      <ul class="navigation">
        <li>
          <a href="#" title="Menu" onclick="toggleMenu()">&#9776; Menu</a>
        </li>
        <li><a class="active" href="home.html">Home</a></li>
        <li><a href="preston.html">Preston</a></li>
        <li><a href="sodasprings.html">Soda Springs</a></li>
        <li><a href="fishhaven.html">Fish Haven</a></li>
        <li><a href="stormcenter.html">Storm Center</a></li>
        <li><a href="gallery.html">Gallery</a></li>
      </ul>
    </nav>
    <h1 class="homePage">Home Page</h1>
    <section class="cityInfo"></section>

    <script>
      var cityName, cities
      var section = document.querySelector('section')
      var requestURL =
        'https://byui-cit230.github.io/weather/data/towndata.json'
      var request = new XMLHttpRequest()
      request.open('GET', requestURL)
      request.responseType = 'json'
      request.send()

      request.onload = function() {
        var cityData = request.response
        populateCity(cityData)
      }

      function populateCity(jsonObj) {
        cities = jsonObj['towns']

        for (cityName = 0; cityName < cities.length; cityName++) {
          if (cities[cityName].name == 'Preston') showCities(cities[cityName])
        }
        for (cityName = 0; cityName < cities.length; cityName++) {
          if (cities[cityName].name == 'Soda Springs')
            showCities(cities[cityName])
        }
        for (cityName = 0; cityName < cities.length; cityName++) {
          if (cities[cityName].name == 'Fish Haven')
            showCities(cities[cityName])
        }
      }

      function showCities(jsonObj) {
        var data = jsonObj

        var myArticle = document.createElement('article')
        var myHd = document.createElement('h2')
        var myPara1 = document.createElement('h4')
        var myImage = document.createElement('img')
        var myPara2 = document.createElement('p')
        var myPara3 = document.createElement('p')
        var myPara4 = document.createElement('p')

        myHd.textContent = data.name
        myPara1.textContent = data.motto
        myPara2.textContent = 'Year Founded: ' + data.yearFounded
        myPara3.textContent = 'Population: ' + data.currentPopulation
        myPara4.textContent = 'Average Rain Fall: ' + data.averageRainfall + '"'

        switch (myHd.textContent) {
          case 'Preston':
            myImage.src = 'images/bob-canning-58962-unsplash-opti800.jpg'
            myImage.setAttribute('class', 'homephoto')
            myImage.setAttribute('alt', 'Preston Photo')
            break

          case 'Soda Springs':
            myImage.src =
              'images/donald-giannatti-737533-unsplash.optimized300.jpg'
            myImage.setAttribute('class', 'homephoto')
            myImage.setAttribute('alt', 'Soda Springs Photo')
            break

          case 'Fish Haven':
            myImage.src = 'images/tim-peterson-779286-unsplash-opti800.jpg'
            myImage.setAttribute('class', 'homephoto')
            myImage.setAttribute('alt', 'Fish Haven Photo')
            break
        }

        myArticle.appendChild(myHd)
        myArticle.appendChild(myPara1)
        myArticle.appendChild(myImage)
        myArticle.appendChild(myPara2)
        myArticle.appendChild(myPara3)
        myArticle.appendChild(myPara4)

        section.appendChild(myArticle)
      }
    </script>

    <section class="homesec2">
      <div class="home-relative">
        <img
          src="images/matthew-osborn-1095169-unsplash-opti1200.jpg"
          alt="man with child on back near mountain lake"
        />
        <div class="home-absolute">
          <h2 class="homehero1">
            Weather reports that keep you playing safe!
          </h2>
        </div>
      </div>
    </section>

    <aside>
      <div class="contact">
        <h2>Contact</h2>
        <ul class="leftcol">
          <li><h4>The Weather Sentry</h4></li>
          <li>55 E Oneida St</li>
          <li>
            <img src="images/map-iconfinder-icon.svg" alt="map icon" />Preston,
            ID 83263
          </li>
          <li>
            <img
              src="images/phone-iconfinder-icon.svg"
              alt="phone icon"
            />800.999.9999
          </li>
          <li>
            <img
              src="images/mail-iconfinder-icon.svg"
              alt="mail icon"
            />theweathersentry@info.com
          </li>
        </ul>
        <ul id="socialmedia">
          <li>
            <img
              src="images/iconfinder_facebook_circle_black_107153.svg"
              alt="social media facebook icon"
            />
          </li>
          <li>
            <img
              src="images/pinterest-iconfinder-icon.svg"
              alt="social media pintrest icon"
            />
          </li>
          <li>
            <img
              src="images/twitter-iconfinder-icon.svg"
              alt="social media twitter icon"
            />
          </li>
        </ul>
      </div>
      <div class="map">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5779748.896137284!2d-118.61736121197195!3d44.98140577493898!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5358ffa885e499e9%3A0xd06b300515f78758!2sIdaho!5e0!3m2!1sen!2sus!4v1553254573418"
          frameborder="0"
          style="border:0"
          allowfullscreen
        ></iframe>
      </div>
    </aside>

    <footer>
      <p>
        &copy;2019 | The Weather Sentry | Jeremy Hardman |
        <a href="../../">Portal</a><br />
        <a href="https://openweathermap.org/api">Weather Information</a><br />
        <span id="currentdate"></span><br />
      </p>
    </footer>
    <script src="scripts/currentdate.js"></script>
    <script src="scripts/hamburger.js"></script>
    <script src="scripts/ratingvalue.js"></script>
  </body>
</html>
